(()=>{var t={1462:function(t,i,n){!function(t,e){"use strict";t(n.g,i)}((function(t,i){"use strict";function n(){this.handlers=["init","bookStateChanged","turned","goToFirstPage","goToLastPage","zoomed","unzoomed","slideshow","link","image","video","sound","window","share","print","download","fullscreen","search","develop","contextMenu","highlight","note","orientation","selectText","lightbox","accessibility"]}function e(t){return"function"==typeof t||!1}function a(t){return t.charAt(0).toUpperCase()+t.slice(1)}n.prototype.subscribe=function(i){if(this.evt=i,t.universalAnalytics)this.analytics=t.universalAnalytics,this._apiSubscribe();else{const i=this;setTimeout((function n(){t.universalAnalytics?(console.log("subscribe"),i.analytics=t.universalAnalytics,i._apiSubscribe()):setTimeout(n,200)}),200)}},n.prototype._apiSubscribe=function(){if(this.analytics&&this.evt&&e(this.evt.on))for(const t in this.handlers)if(this.handlers.hasOwnProperty(t)){const i=this.handlers[t];this.evt.on(i,this[i],this)}},n.prototype.init=function(t){this.state=t,this.oldState=t,this.develop({action:"version",data:t.version}),this.analytics.publicationOpened()},n.prototype.bookStateChanged=function(t,i){this.oldState=this.state||t,this.state=t,this.state.leftPageUrl!==this.state.rightPageUrl||this.state.isSingle||(this.state.rightPageUrl=void 0),this.state.isSlide?this.analytics.openInSlide(i,this.state.leftPageUrl):this.state.isSingle?this.analytics.openInSpread(i,this.state.rightPageUrl):this.analytics.openInSpread(i,this.state.leftPageUrl,this.state.rightPageUrl)},n.prototype.turned=function(t,i,n){let e=t.leftPageUrl;t.isSingle&&(e=t.rightPageUrl),this.analytics.turned(e,i,n)},n.prototype.develop=function(t){this.analytics.develop(t.action,t.data)},n.prototype.goToFirstPage=function(){this.analytics.flipToFirstPage(void 0)},n.prototype.goToLastPage=function(){this.analytics.flipToLastPage(void 0)},n.prototype.zoomed=function(t){t.isSingle?this.analytics.zoomIn(void 0,t.rightPageUrl):this.analytics.zoomIn(void 0,t.leftPageUrl||t.rightPageUrl)},n.prototype.unzoomed=function(t){t&&t.isSingle?this.analytics.zoomOut(void 0,t.rightPageUrl):this.oldState.isZoomed?this.analytics.zoomOut(void 0,this.oldState.leftPageUrl||this.oldState.rightPageUrl):this.analytics.zoomOut(void 0,t.leftPageUrl||t.rightPageUrl)},n.prototype.slideshow=function(){let{action:t,target:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"start"===t&&this.analytics.slideshowStart(i),"stop"===t&&this.analytics.slideshowStop(i)},n.prototype.link=function(t){"internal"===t.type&&"page"===t.source?this.analytics.internalLink(t.pageToUrl,t.pageUrl):"external"===t.type&&this.analytics.externalLink(t.url,t.pageUrl,t.isBlacklisted)},n.prototype.lightbox=function(t){"open"===t.action?this.analytics.openLightbox(t.lightboxUrl,t.openTarget):"show_content"===t.action?this.analytics.showLightboxContent(t.lightboxUrl,t.openTarget):"close"===t.action&&this.analytics.closeLightbox(t.lightboxUrl)},n.prototype.image=function(t){"loaded"===t.action&&this.analytics.imageLoaded(t.url)},n.prototype.video=function(t){"play"===t.action?this.analytics.videoPlay(t.url,t.time):"pause"===t.action?this.analytics.videoPause(t.url,t.time):"stop"===t.action?this.analytics.videoStop(t.url,t.time):"seekTo"===t.action&&this.analytics.videoSeekTo(t.url,t.time)},n.prototype.sound=function(t){"on"===t.action?this.analytics.soundOn():"off"===t.action&&this.analytics.soundOff()},n.prototype.window=function(t){const i={Toc:"TOC",Social:"Share"};let n=a(t.component);void 0!==i[n]&&(n=i[n]),"open"===t.action?this.analytics.openWindow(n):"close"===t.action&&this.analytics.closeWindow(n)},n.prototype.share=function(t){"facebook"===t.service?this.analytics.shareByFacebook(t.url):"twitter"===t.service?this.analytics.tweet(t.url):"linkedIn"===t.service?this.analytics.shareByLinkedin(t.url):"tumblr"===t.service?this.analytics.shareByTumblr(t.url):"google+"===t.service?this.analytics.shareByGooglePlus(t.url):"email"===t.service?this.analytics.shareByEmail(t.url):"vk"===t.service?this.analytics.shareByVK(t.url):"clipboard"===t.service&&this.analytics.shareByClipboard(t.url)},n.prototype.print=function(t){this.analytics.print(t.filename,a(t.option),t.number)},n.prototype.download=function(t){"downloaded"===t.action&&this.analytics.download(t.fileName,a(t.option))},n.prototype.contextMenu=function(t){"open"===t.action?this.analytics.contextMenu("Open",t.page):"select"===t.action&&this.analytics.contextMenu("Select",t.selectedItem)},n.prototype.highlight=function(t){"on"===t.action?this.analytics.highlight("On",t.page):"off"===t.action&&this.analytics.highlight("Off",t.page)},n.prototype.fullscreen=function(t){"on"===t.action?this.analytics.fullscreenOn():"off"===t.action&&this.analytics.fullscreenOff()},n.prototype.search=function(t){this.analytics.search(t.query)},n.prototype.note=function(t){this.analytics.note(t.action,t.initiator)},n.prototype.orientation=function(t){const i=t.state.rightPageUrl||t.state.leftPageUrl;this.analytics.orientation(i,t.value,t.action)},n.prototype.selectText=function(t){this.analytics.selectText(a(t.action),t.pageUrl)},n.prototype.accessibility=function(t){this.analytics.accessibility(a(t.action))},i.UniversalAnalytics=n}))}},i={};function n(e){var a=i[e];if(void 0!==a)return a.exports;var s=i[e]={exports:{}};return t[e].call(s.exports,s,s.exports,n),s.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}();(()=>{"use strict";const t={dimensionForVersion:void 0,version:void 0,appName:void 0,dimensionForAdditionalLabel:void 0,uaIDs:[],nonInteraction:!0,multiua:function(){if(void 0!==n.g.FBO&&n.g.FBO.Config.DisableViewTracking)return;const t=Array.prototype.slice.call(arguments);if(n.g.universalAnalytics.uaIDs)for(let i=0,e=n.g.universalAnalytics.uaIDs.length;i<e;i++){const e=t.slice();e[0]="additional"+i.toString()+"."+e[0],n.g.universalAnalytics.pushApply(e)}},fbua:function(){if(void 0!==n.g.FBO&&n.g.FBO.Config.DisableViewTracking)return;const t=Array.prototype.slice.call(arguments);if(n.g.universalAnalytics.fbIDs)for(let i=0,e=n.g.universalAnalytics.fbIDs.length;i<e;i++){const e=t.slice();e[0]="additional"+i.toString()+"."+e[0],n.g.universalAnalytics.pushApply(e)}},lastApply:(new Date).getTime(),timerId:void 0,tryApply:function(){const t=(new Date).getTime();if(t-n.g.universalAnalytics.lastApply>40){const i=n.g.universalAnalytics.events.shift();n.g.ua.apply(null,i),n.g.universalAnalytics.lastApply=t}n.g.universalAnalytics.events.length>0?void 0===n.g.universalAnalytics.timerId&&(n.g.universalAnalytics.timerId=setInterval((function(){n.g.universalAnalytics.tryApply()}),40)):(clearInterval(n.g.universalAnalytics.timerId),n.g.universalAnalytics.timerId=void 0)},pushApply:function(t){n.g.universalAnalytics.events.push(t),n.g.universalAnalytics.tryApply()},events:[],ip:void 0,generateId:function(){const t="xx-x-x-x-xxx".replace(/[xy]/g,(function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}));try{localStorage.setItem("clientId",t)}catch(i){}return t},init:function(t,i,e,a,s,o,l,r,c,u,g){if(void 0!==n.g.FBO&&n.g.FBO.Config.DisableViewTracking)return;let d,y;var p,h,v,A,f,m,I;let b;if("[object Object]"===Object.prototype.toString.call(t)?(d=t,n.g.universalAnalytics.platform=d.platform,n.g.universalAnalytics.startDate=d.startDate,n.g.universalAnalytics.dimensionForAdditionalLabel=d.dimensionForAdditionalLabel,n.g.universalAnalytics.dimensionForVersion=d.dimensionForVersion,n.g.universalAnalytics.dimensionForClientId=d.dimensionForClientId,n.g.universalAnalytics.sessionControl=d.sessionControl,n.g.universalAnalytics.version=d.version,n.g.universalAnalytics.appName=d.appName,n.g.universalAnalytics.fbIDs=d.fbUAIDs.slice(),n.g.universalAnalytics.uaIDs=d.fbUAIDs.concat(d.userUAIDs).slice(),n.g.universalAnalytics.anonymizeIp=d.anonymizeIp,n.g.universalAnalytics.url=null===d.url?"auto":d.url,n.g.universalAnalytics.title=d.title,y=d.nonce||null):(n.g.universalAnalytics.platform=a,n.g.universalAnalytics.startDate=s,n.g.universalAnalytics.dimensionForAdditionalLabel=c,n.g.universalAnalytics.dimensionForVersion=u,n.g.universalAnalytics.version=o,n.g.universalAnalytics.appName=r,n.g.universalAnalytics.fbIDs=t.slice(),n.g.universalAnalytics.uaIDs=t.concat(i).slice(),n.g.universalAnalytics.anonymizeIp=l,n.g.universalAnalytics.url=null===e?"auto":e,n.g.universalAnalytics.title=g),n.g.universalAnalytics.sessionStarted=!1,n.g.universalAnalytics.dimensionForAdditionalLabel||(n.g.universalAnalytics.dimensionForAdditionalLabel="dimension1"),n.g.universalAnalytics.dimensionForVersion||(n.g.universalAnalytics.dimensionForVersion="dimension2"),p=n.g,h=document,v="script",A="//www.google-analytics.com/analytics.js",f="ua",p.GoogleAnalyticsObject=f,p[f]=p[f]||function(){(p[f].q=p[f].q||[]).push(arguments)},p[f].l=1*new Date,m=h.createElement(v),I=h.getElementsByTagName(v)[0],m.async=1,y&&m.setAttribute("nonce",y),m.src=A,I.parentNode.insertBefore(m,I),d&&d.clientId)b=d.clientId;else try{b=localStorage.getItem("clientId")}catch(D){console.log("No access to localStorage.")}finally{b=b||n.g.universalAnalytics.generateId()}const S={allowLinker:!0,storage:"none",storeGac:!1,clientId:b};for(let w=0,P=n.g.universalAnalytics.uaIDs.length;w<P;w++)n.g.ua("create",n.g.universalAnalytics.uaIDs[w],n.g.universalAnalytics.url,"additional"+w.toString(),S);n.g.universalAnalytics.dimensionForClientId&&n.g.universalAnalytics.fbua("set",n.g.universalAnalytics.dimensionForClientId,b),n.g.universalAnalytics.multiua("require","displayfeatures"),!0===n.g.universalAnalytics.anonymizeIp?n.g.universalAnalytics.multiua("set","anonymizeIp",!0):n.g.universalAnalytics.fbua("set","anonymizeIp",!0),n.g.universalAnalytics.title&&n.g.universalAnalytics.multiua("set","title",n.g.universalAnalytics.title),void 0!==n.g.universalAnalytics.dimensionForVersion&&n.g.universalAnalytics.multiua("set",n.g.universalAnalytics.dimensionForVersion,n.g.universalAnalytics.version),n.g.universalAnalytics.multiua("require","ecommerce"),n.g.universalAnalytics.multiua("require","ec")},getPlatform:function(){return n.g.universalAnalytics.platform},path:void 0,getPath:function(){if(void 0===n.g.universalAnalytics.path)if(void 0!==n.g.FBO)n.g.universalAnalytics.path=n.g.FBO.PreloadedPublicationModel.Publication.HashId+"/";else{if(n.g.universalAnalytics.path=n.g.location.pathname,"basic"===n.g.universalAnalytics.platform){const t=new RegExp("files/assets/basic-html/page.*html");n.g.universalAnalytics.path=n.g.universalAnalytics.path.replace(t,"")}n.g.universalAnalytics.path.length>0&&"/"!==n.g.universalAnalytics.path.charAt(0)&&(n.g.universalAnalytics.path="/"+n.g.universalAnalytics.path);let t=n.g.universalAnalytics.path.indexOf("index.html");-1!==t&&t+10===n.g.universalAnalytics.path.length&&(n.g.universalAnalytics.path=n.g.universalAnalytics.path.slice(0,t)),t=n.g.universalAnalytics.path.indexOf("index.htm"),-1!==t&&t+9===n.g.universalAnalytics.path.length&&(n.g.universalAnalytics.path=n.g.universalAnalytics.path.slice(0,t))}return n.g.universalAnalytics.path},transactionID:void 0,deteleTransactionID:function(){delete n.g.universalAnalytics.transactionID},getTransactionID:function(){return void 0===n.g.universalAnalytics.transactionID&&(n.g.universalAnalytics.transactionID=(new Date).getTime().toString(36),void 0!==n.g.universalAnalytics.startDate&&(n.g.universalAnalytics.transactionID+=n.g.universalAnalytics.startDate.toString(36)),void 0!==n.g.universalAnalytics.openedDate&&(n.g.universalAnalytics.transactionID+=n.g.universalAnalytics.openedDate.toString(36))),n.g.universalAnalytics.transactionID},setCurrency:function(t){n.g.universalAnalytics.currency=t,n.g.universalAnalytics.multiua("set","&cu",t)},setShopName:function(t){n.g.universalAnalytics.shopName=t},addImpression:function(t,i){n.g.universalAnalytics.multiua("ec:addImpression",{id:i,name:t})},addTransaction:function(t){n.g.universalAnalytics.multiua("ecommerce:addTransaction",{id:n.g.universalAnalytics.getTransactionID(),affiliation:n.g.universalAnalytics.shopName,revenue:t,currency:n.g.universalAnalytics.currency})},addItem:function(t,i,e,a){n.g.universalAnalytics.multiua("ecommerce:addItem",{id:n.g.universalAnalytics.getTransactionID(),name:t,sku:i,price:e,quantity:a}),n.g.universalAnalytics.multiua("ec:addProduct",{id:i,name:t})},purchase:function(t){n.g.universalAnalytics.multiua("ecommerce:send"),n.g.universalAnalytics.multiua("ec:setAction","purchase",{id:n.g.universalAnalytics.getTransactionID(),revenue:t}),n.g.universalAnalytics.deteleTransactionID()},shareByFacebook:function(t){n.g.ua&&n.g.universalAnalytics.multiua("send","social","Facebook","Share",t)},shareByGooglePlus:function(t){n.g.ua&&n.g.universalAnalytics.multiua("send","social","Google+","Share",t)},shareByLinkedin:function(t){n.g.ua&&n.g.universalAnalytics.multiua("send","social","LinkedIn","Share",t)},shareByTumblr:function(t){n.g.ua&&n.g.universalAnalytics.multiua("send","social","Tumblr","Share",t)},shareByVK:function(t){n.g.ua&&n.g.universalAnalytics.multiua("send","social","VK","Share",t)},shareByBlogger:function(t){n.g.ua&&n.g.universalAnalytics.multiua("send","social","Blogger","Share",t)},tweet:function(t){n.g.ua&&n.g.universalAnalytics.multiua("send","social","Twitter","Tweet",t)},shareByEmail:function(t){n.g.ua&&n.g.universalAnalytics.multiua("send","social","Email","Mail",t)},shareByMySpace:function(t){n.g.ua&&n.g.universalAnalytics.multiua("send","social","MySpace","Share",t)},shareByClipboard:function(t){n.g.ua&&n.g.universalAnalytics.multiua("send","social","Clipboard","Copy",t)},dispatch:function(t,i,e,a,s){const o={};void 0!==e&&(o.eventLabel=e),void 0!==a&&(o.eventValue=a),n.g.universalAnalytics.nonInteraction&&(o.nonInteraction=!0),void 0!==s&&void 0!==n.g.universalAnalytics.dimensionForAdditionalLabel&&(o[n.g.universalAnalytics.dimensionForAdditionalLabel]=s),o.page=n.g.universalAnalytics.getPath(),!0===n.g.universalAnalytics.anonymizeIp&&(o.anonymizeIp=!0),n.g.ua&&n.g.universalAnalytics.multiua("send","event",t,i,o)},fbDispatch:function(t,i,e,a,s){const o={};void 0!==e&&(o.eventLabel=e),void 0!==a&&(o.eventValue=a),n.g.universalAnalytics.nonInteraction&&(o.nonInteraction=!0),void 0!==s&&void 0!==n.g.universalAnalytics.dimensionForAdditionalLabel&&(o[n.g.universalAnalytics.dimensionForAdditionalLabel]=s),o.page=n.g.universalAnalytics.getPath(),o.anonymizeIp=!0,n.g.ua&&n.g.universalAnalytics.fbua("send","event",t,i,o)},zoomIn:function(t,i){n.g.universalAnalytics.dispatch("Zoom","Zoom In",i,void 0,t)},zoomOut:function(t,i){n.g.universalAnalytics.dispatch("Zoom","Zoom Out",i,void 0,t)},zoomBlock:function(t){n.g.universalAnalytics.dispatch("Zoom","Zoom Block",t)},openWindow:function(t,i){n.g.universalAnalytics.dispatch(t,"Open",i)},closeWindow:function(t,i){n.g.universalAnalytics.dispatch(t,"Close",i)},print:function(t,i,e){const a=e||i;n.g.universalAnalytics.dispatch("Print","Print",a)},openLightbox:function(t,i){n.g.universalAnalytics.dispatch("Lightbox","Open",t,void 0,i)},closeLightbox:function(t){n.g.universalAnalytics.dispatch("Lightbox","Close",t)},showLightboxContent:function(t,i){n.g.universalAnalytics.dispatch("Lightbox","Show Content",t,void 0,i)},imageLoaded:function(t){n.g.universalAnalytics.dispatch("Image","Loaded",t)},download:function(t,i){n.g.universalAnalytics.dispatch("Download","Download",t,void 0,i)},accessibility:function(t){n.g.universalAnalytics.dispatch("Accessibility",t)},videoPlay:function(t,i){n.g.universalAnalytics.dispatch("Video","Play",t,void 0,i)},videoPause:function(t,i){n.g.universalAnalytics.dispatch("Video","Pause",t,void 0,i)},videoStop:function(t,i){n.g.universalAnalytics.dispatch("Video","Stop",t,void 0,i)},videoSeekTo:function(t,i){n.g.universalAnalytics.dispatch("Video","SeekTo",t,void 0,i)},fullscreenOn:function(t){n.g.universalAnalytics.dispatch("Fullscreen","On",t)},fullscreenOff:function(t){n.g.universalAnalytics.dispatch("Fullscreen","Off",t)},slideshowStart:function(t){n.g.universalAnalytics.dispatch("Slideshow","Start",t)},slideshowStop:function(t){n.g.universalAnalytics.dispatch("Slideshow","Stop",t)},soundOn:function(){n.g.universalAnalytics.dispatch("Sound","On")},soundOff:function(){n.g.universalAnalytics.dispatch("Sound","Off")},addBookmark:function(t,i){n.g.universalAnalytics.dispatch("Bookmarks","Add",i,void 0,t)},removeBookmark:function(t,i){n.g.universalAnalytics.dispatch("Bookmarks","Remove",i,void 0,t)},productLink:function(t,i,e){const a=void 0===i?e:i;n.g.universalAnalytics.dispatch("Link","Product",t,void 0,a)},externalLink:function(t,i,e){e?n.g.universalAnalytics.fbDispatch("Link","External",t,void 0,i):n.g.universalAnalytics.dispatch("Link","External",t,void 0,i)},internalLink:function(t,i){n.g.universalAnalytics.dispatch("Link","Internal",t,void 0,i)},note:function(t,i){n.g.universalAnalytics.dispatch("Note",t,i)},selectText:function(t,i){n.g.universalAnalytics.dispatch("SelectText",t,i)},search:function(t){n.g.universalAnalytics.dispatch("Search","Search",t)},startLoading:function(){n.g.universalAnalytics.dispatch("Loading","Start",n.g.universalAnalytics.getPlatform())},openedDate:void 0,publicationOpened:function(){n.g.universalAnalytics.openedDate=(new Date).getTime(),n.g.universalAnalytics.dispatch("Loading","Open",n.g.universalAnalytics.getPlatform(),void 0,n.g.universalAnalytics.openedDate-n.g.universalAnalytics.startDate),n.g.universalAnalytics.sendApplicationTiming(n.g.universalAnalytics.openedDate-n.g.universalAnalytics.startDate),n.g.universalAnalytics.sendFBTiming("Application Load 2",n.g.universalAnalytics.openedDate-n.g.universalAnalytics.startDate),n.g.universalAnalytics.nonInteraction=!1},preloaderLoaded:function(){n.g.universalAnalytics.preloaderDate=(new Date).getTime(),n.g.universalAnalytics.sendFBTiming("Preloader Load",n.g.universalAnalytics.preloaderDate-n.g.universalAnalytics.startDate)},preloaderDate:void 0,startFlippingBookLoad:function(){n.g.universalAnalytics.startFlippingBookDate=(new Date).getTime()},startFlippingBookDate:void 0,endFlippingBookLoad:function(){n.g.universalAnalytics.endFlippingBookDate=(new Date).getTime(),n.g.universalAnalytics.sendFBTiming("Style Load",n.g.universalAnalytics.endFlippingBookDate-n.g.universalAnalytics.startFlippingBookDate)},endFlippingBookDate:void 0,startStyleLoad:function(){n.g.universalAnalytics.startStyleDate=(new Date).getTime()},startStyleDate:void 0,endStyleLoad:function(){n.g.universalAnalytics.endStyleDate=(new Date).getTime(),n.g.universalAnalytics.sendFBTiming("Style Load",n.g.universalAnalytics.endStyleDate-n.g.universalAnalytics.startStyleDate)},endStyleDate:void 0,startPropertyLoad:function(){n.g.universalAnalytics.startPropertyDate=(new Date).getTime()},startPropertyDate:void 0,endPropertyLoad:function(){n.g.universalAnalytics.endPropertyDate=(new Date).getTime(),n.g.universalAnalytics.sendFBTiming("Property Load",n.g.universalAnalytics.endPropertyDate-n.g.universalAnalytics.startPropertyDate)},endPropertyDate:void 0,startStyleXmlLoad:function(){n.g.universalAnalytics.startStyleXmlDate=(new Date).getTime()},startStyleXmlDate:void 0,endStyleXmlLoad:function(){n.g.universalAnalytics.endStyleXmlDate=(new Date).getTime(),n.g.universalAnalytics.sendFBTiming("Style xml Load",n.g.universalAnalytics.endStyleXmlDate-n.g.universalAnalytics.startStyleXmlDate)},endStyleXmlDate:void 0,startFontLoad:function(){n.g.universalAnalytics.startFontDate=(new Date).getTime()},startFontDate:void 0,endFontLoad:function(){n.g.universalAnalytics.endFontDate=(new Date).getTime(),n.g.universalAnalytics.sendFBTiming("Font Load",n.g.universalAnalytics.endFontDate-n.g.universalAnalytics.startFontDate)},endFontDate:void 0,previousPage:void 0,previousPage2:void 0,pageView:function(t){const i=n.g.universalAnalytics.getPath(),e=n.g.location.search,a={page:i+("undefined"!=typeof FBO?t+e:"#"+t)};!1===n.g.universalAnalytics.sessionControl||n.g.universalAnalytics.sessionStarted||(a.sessionControl="start",n.g.universalAnalytics.sessionStarted=!0),n.g.ua&&n.g.universalAnalytics.multiua("send","pageview",a)},flipToLastPage:function(t){n.g.universalAnalytics.fbDispatch("Pages","Last Page",t)},flipToFirstPage:function(t){n.g.universalAnalytics.fbDispatch("Pages","First Page",t)},contentSize:function(t,i,e,a){const s=a||t,o=i+"x"+e;n.g.universalAnalytics.fbDispatch("ContentSize",s,o)},develop:function(t,i){n.g.universalAnalytics.fbDispatch("Develop",t,i)},contextMenu:function(t,i){n.g.universalAnalytics.fbDispatch("ContextMenu",t,i)},highlight:function(t,i){n.g.universalAnalytics.fbDispatch("Highlight",t,i)},openInSlide:function(t,i){n.g.universalAnalytics.previousPage!==i&&(n.g.universalAnalytics.pageView(i),n.g.universalAnalytics.previousPage=i),"Start Book"!==t&&n.g.universalAnalytics.dispatch("Pages","openInSlide",i,void 0,t)},openInSpread:function(t,i,e){i!==n.g.universalAnalytics.previousPage&&i!==n.g.universalAnalytics.previousPage2&&n.g.universalAnalytics.pageView(i),"Start Book"!==t&&n.g.universalAnalytics.dispatch("Pages","OpenInSpread",i,void 0,t),e&&(e!==n.g.universalAnalytics.previousPage&&e!==n.g.universalAnalytics.previousPage2&&n.g.universalAnalytics.pageView(e),n.g.universalAnalytics.dispatch("Pages","OpenInSpread",e,void 0,t),n.g.universalAnalytics.previousPage2=e),n.g.universalAnalytics.previousPage=i},turned:function(t,i,e){n.g.universalAnalytics.dispatch("Pages","Turned",i,t,e)},orientation:function(t,i,e){n.g.universalAnalytics.dispatch("Orientation",i,t,void 0,e)},sendTiming:function(t,i,e){n.g.ua&&n.g.universalAnalytics.multiua("send","timing",n.g.universalAnalytics.getPlatform(),t,i,e)},sendFBTiming:function(t,i,e){n.g.ua&&n.g.universalAnalytics.fbua("send","timing",n.g.universalAnalytics.getPlatform(),t,i,e)},sendApplicationTiming:function(t){n.g.universalAnalytics.sendTiming("Application Load",t)},sendPageTiming:function(t,i){n.g.universalAnalytics.sendTiming("Page Load",t,i)},sendSlideTiming:function(t,i){n.g.universalAnalytics.sendTiming("Slide Load",t,i)},sendThumbnailTiming:function(t,i){n.g.universalAnalytics.sendTiming("Thumbnail Load",t,i)},sendFatalError:function(t,i){n.g.ua&&n.g.universalAnalytics.multiua("send","exception",{exDescription:t,exFatal:!0,appName:n.g.universalAnalytics.appName,appVersion:n.g.universalAnalytics.version}),n.g.universalAnalytics.dispatch("Error","Fatal",t,void 0,i)},sendError:function(t,i){n.g.ua&&n.g.universalAnalytics.multiua("send","exception",{exDescription:t,exFatal:!1,appName:n.g.universalAnalytics.appName,appVersion:n.g.universalAnalytics.version}),n.g.universalAnalytics.dispatch("Error","Non Fatal",t,void 0,i)}};var i=n(1462);const e={INIT:"init",BOOK_STATE_CHANGED:"bookStateChanged",TURNED:"turned",GO_TO_FIRST_PAGE:"goToFirstPage",GO_TO_LAST_PAGE:"goToLastPage",ZOOMED:"zoomed",UNZOOMED:"unzoomed",SLIDESHOW:"slideshow",LINK:"link",FORM_LINK:"formLink",LIGHTBOX:"lightbox",IMAGE:"image",VIDEO:"video",SOUND:"sound",WINDOW:"window",SHARE:"share",PRINT:"print",DOWNLOAD:"download",FULLSCREEN:"fullscreen",SEARCH:"search",DEVELOP:"develop",CONTEXT_MENU:"contextMenu",HIGHLIGHT:"highlight",NOTE:"note",ORIENTATION:"orientation",SELECT_TEXT:"selectText",SWIPE:"swipe",ACCESSIBILITY:"accessibility",TIME:"time",ERROR:"error"},a=()=>{let t;try{t=localStorage.getItem("clientId")}catch(i){console.log("No access to localStorage.")}finally{t=t||"xx-x-x-x-xxx".replace(/[xy]/g,(function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}))}try{localStorage.setItem("clientId",t)}catch(i){console.log("No access to localStorage.")}return t},s=t=>{let i;return void 0!==t?i=t+"/":(i=window.location.pathname,i.length>0&&"/"!==i.charAt(0)&&(i="/"+i)),i.replace(/index.htm(l)?$/gi,"")};class o{constructor(t){let{fbUAIDs:i=[],userUAIDs:n=[],platform:e,startDate:s,anonymizeIp:o=!1,appName:l,title:r,dimensionForClientId:c,dimensionForAdditionalLabel:u="dimension1",dimensionForVersion:g="dimension2",version:d,clientId:y=a(),hashId:p,nonce:h=null,hashMode:v=!1}=t;window.gtag&&window.dataLayer||this._createScript(i[0]||n[0],h),this.dimensionForAdditionalLabel=u,this.dimensionForClientId=c,this.clientId=y,this.hashId=p;const A={allow_linker:!0,storage:"none",store_gac:!1,client_id:y,page_title:r,cookie_domain:window.location.hostname,cookie_flags:"SameSite=None;Secure",send_page_view:!v};i.forEach((t=>{window.gtag("config",t,{groups:["default","fbGroup"],anonymize_ip:!0,...A})})),n.forEach((t=>{window.gtag("config",t,{groups:"userGroup",anonymize_ip:o,...A})})),window.gtag("set",g,d)}_createScript(t,i){const n=document.createElement("script");n.src=`https://www.googletagmanager.com/gtag/js?id=${t}`,n.async=!0,i&&n.setAttribute("nonce",i),document.head.appendChild(n),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},window.gtag("js",new Date)}track(t){let{category:i=null,action:n=null,label:e=null,value:a=null,name:o=null,additionalLabel:l=null,nonInteraction:r=!1,isFBGroup:c=!1,internal:u=!1,...g}=t;const d={};i&&(d.event_category=i),e&&(d.event_label=e),a&&(d.value=a),o&&(d.name=o),r&&(d.non_interaction=!0),u||(d.page=s(this.hashId)),l&&(d[this.dimensionForAdditionalLabel]=l),c?(d.send_to=["fbGroup"],this.dimensionForClientId&&(d[this.dimensionForClientId]=this.clientId)):d.send_to=["fbGroup","userGroup"],window.gtag("event",n,{...d,...g})}}const l=o;Array.isArray;const r=Object.prototype.toString;function c(t){return function(i){return null==i?void 0:i[t]}}Math.pow(2,53),c("length");function u(t,i){return null!=t&&hasOwnProperty.call(t,i)}let g=function(t){return"[object Arguments]"===r.call(t)};!function(){g(arguments)||(g=function(t){return u(t,"callee")})}();String.fromCharCode(10),String.fromCharCode(13),String.fromCharCode(8211),String.fromCharCode(8212),String.fromCharCode(8722),String.fromCharCode(8209),String.fromCharCode(8208);function d(t){return t.replace(/(([a-z])(?=[A-Z][a-zA-Z])|([A-Z])(?=[A-Z][a-z]))/g,"$1_").toLowerCase()}function y(t){return t.replace(/(([a-z])(?=[A-Z][a-zA-Z])|([A-Z])(?=[A-Z][a-z]))/g,"$1-").toLowerCase()}class p extends l{constructor(t,i){super(t),this.platform=t.platform||"",this.startDate=t.startDate,this.subscribedToApi=!1,i&&this.subscribeOnPublicationAPI(i)}subscribeOnPublicationAPI(t){if(this.subscribedToApi)throw new Error("Subscription to the API already exists");for(const[i,n]of Object.entries(e))t.on(n,this[n],this);this.apiInstance=t,this.subscribedToApi=!0}[e.INIT](t){this.state=t,this.oldState=t,this.hashMode=t.hashMode,this.track({category:"develop",action:"version",label:t.version,nonInteraction:!0,isFBGroup:!0}),this.track({category:"develop",action:"device",label:t.device,nonInteraction:!0,isFBGroup:!0});const i=(new Date).getTime();this.track({category:"loading",action:"opened",label:this.platform,nonInteraction:!0,additionalLabel:i-this.startDate}),this.track({category:this.platform,action:"timing_complete",name:"Application Load",value:i-this.startDate,nonInteraction:!0,isFBGroup:!0}),this[e.TURNED](t,"init",this.state.ui.orientation)}[e.BOOK_STATE_CHANGED](t,i){this.oldState=this.state||t,this.state=t}[e.TURNED](t,i,n){const e=[];t.isSlide||t.leftPageUrl===t.rightPageUrl&&!t.isSingle?e.push(t.leftPageUrl):t.isSingle?e.push(t.rightPageUrl):e.push(t.leftPageUrl,t.rightPageUrl),e.forEach((t=>{this.track({category:"page",action:"page_opened",page_url:t,initiator:i,orientation:n})})),this.hashMode?e.forEach((t=>{this.track({action:"page_view",page_location:this.apiInstance.getFullUrl(t),internal:!0})})):e[1]&&this.track({action:"page_view",page_location:this.apiInstance.getFullUrl(e[1]),internal:!0})}[e.GO_TO_FIRST_PAGE](){this.track({category:"page",action:"page_go_to_first"})}[e.GO_TO_LAST_PAGE](){this.track({category:"page",action:"page_go_to_last"})}[e.ZOOMED](t){let i;i=t.isSingle?t.rightPageUrl:t.leftPageUrl||t.rightPageUrl,this.track({category:"zoom",action:"zoom_in",event_page:i})}[e.UNZOOMED](t){let i;i=t&&t.isSingle?t.rightPageUrl:this.oldState.isZoomed?this.oldState.leftPageUrl||this.oldState.rightPageUrl:t.leftPageUrl||t.rightPageUrl,this.track({category:"zoom",action:"zoom_out",event_page:i})}[e.SLIDESHOW](){let{action:t,target:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.track({category:"slideshow",action:"slideshow_"+t,target:i})}[e.LINK](t){const i={category:"link"};switch("internal"===t.type&&"page"===t.source?(i.to_page=t.pageToUrl,i.event_page=t.pageUrl):"external"===t.type&&(i.link_url=t.url,i.event_page=t.pageUrl,t.isBlacklisted&&(i.blacklisted=!0,i.isFBGroup=!0)),t.source){case"logo":i.action="logo_click";break;case"copyright":i.action="cta_button_click";break;default:i.action="link_click_"+t.type}this.track(i)}[e.FORM_LINK](t){this.track({category:"link",action:"link_click_form",target:t.target,url:t.url,event_page:t.pageUrl})}[e.LIGHTBOX](t){const i={category:"lightbox",action:"lightbox_"+t.action,target:t.openTarget,item_type:t.itemType,url:t.lightboxUrl};"form"===t.itemType&&(i.form_url=t.formUrl),this.track(i)}[e.IMAGE](t){this.track({category:"image",action:"image_"+t.action,url:t.url,event_page:t.pageUrl})}[e.VIDEO](t){this.track({category:"video",action:"video_"+t.action,url:t.url,time:t.time})}[e.SOUND](t){this.track({category:"sound",action:"sound_"+t.action})}[e.WINDOW](t){const i={toc:"toc",social:"share",notes:"note_list"};let n=t.component.toLowerCase();void 0!==i[n]&&(n=i[n]),this.track({category:"window",action:n+"_"+t.action})}[e.SHARE](t){const i="clipboard"===t.service?"link":t.service;this.track({category:"share",action:"shared_via_"+i,url:t.url})}[e.PRINT](t){const i={category:"print",action:"printed",file_name:t.fileName,option:t.option};"page"===t.option&&(i.printed_page=t.printPage),this.track(i)}[e.DOWNLOAD](t){let i=!1;["downloadUncheckEmbed","noteDownloadError"].includes(t.action)&&(i=!0);const n={category:"download",action:d(t.action),isFBGroup:i};t.fileName&&(n.file_name=t.fileName),t.option&&(n.option=y(t.option)),"page"===t.option&&(n.download_page=t.downloadPage),t.target&&(n.target=y(t.target)),this.track(n)}[e.FULLSCREEN](t){this.track({category:"fullscreen",action:"fullscreen_"+t.action})}[e.SEARCH](t){this.track({category:"search",action:"search_query",query:t.query})}[e.DEVELOP](t){this.track({action:"develop_"+t.action,category:"develop",nonInteraction:!0,isFBGroup:!0,value:t.data})}[e.CONTEXT_MENU](t){const i={category:"context_menu",action:"context_menu_"+t.action,isFBGroup:!0};"open"===t.action?i.target_page=t.page:"select"===t.action&&(i.selected_item=t.selectedItem),this.track(i)}[e.HIGHLIGHT](t){this.track({category:"highlight",action:"highlight_"+t.action,event_page:t.page,isFBGroup:!0})}[e.NOTE](t){let i=!1;["changeColor","changeText","addFirst","addSecond","addMore"].includes(t.action)&&(i=!0);const n={category:"note",action:"note_"+d(t.action),isFBGroup:i};t.initiator&&(n.initiator=y(t.initiator)),t.value&&(n.value=t.value),t.count&&(n.count=t.count),t.target&&(n.target=y(t.target)),this.track(n)}[e.ORIENTATION](t){const i=t.state.rightPageUrl||t.state.leftPageUrl;this.track({category:"orientation",action:"orientation_"+t.action,value:t.value,event_page:i})}[e.SELECT_TEXT](t){const i="link"===t.action?"copy_link":t.action;this.track({category:"select_text",action:"text_"+i,event_page:t.pageUrl})}[e.SWIPE](t){this.track({category:"swipe",action:"swipe_"+t.direction,isFBGroup:!0})}[e.ACCESSIBILITY](t){this.track({category:"accessibility",action:"accessibility_"+t.action})}[e.TIME](t){this.track({category:"time",action:"time_"+d(t.action),time:t.time,isFBGroup:!0})}[e.ERROR](t){let{action:i,url:n}=t;this.track({category:"error",action:"error_"+d(i),url:n,isFBGroup:!0})}}const h=p;class v{constructor(t,i){const n=t.userUAIDs.filter((t=>0===t.indexOf("UA"))),e=t.fbUAIDs.filter((t=>0===t.indexOf("UA"))),a=t.userUAIDs.filter((t=>0===t.indexOf("G"))),s=t.fbUAIDs.filter((t=>0===t.indexOf("G")));(e[0]||n[0])&&this.applyUniversalAnalytics({...t,fbUAIDs:e,userUAIDs:n},i),(s[0]||a[0])&&this.applyGA4({...t,fbUAIDs:s,userUAIDs:a},i)}applyUniversalAnalytics(n,e){t.init(n),this.UAProvider=new i.UniversalAnalytics,e&&this.subscribeOnPublicationAPI(e)}applyGA4(t,i){t.hashId||(t.hashId=window.FBO?.PreloadedPublicationModel?.Publication?.HashId),this.GA4Provider=new h(t,i)}subscribeOnPublicationAPI(t){this.UAProvider&&this.UAProvider.subscribe(t),this.GA4Provider&&this.GA4Provider.subscribeOnPublicationAPI(t)}dispatch(i,n,e,a,s){this.UAProvider&&t.dispatch(i,n,e,a,s),this.GA4Provider&&this.GA4Provider.track({category:i,action:i.toLowerCase()+"_"+n.toLowerCase().replace(" ","_"),label:e,value:a,additionalLabel:s})}}window.universalAnalytics=t,window.UniversalAnalytics=i.UniversalAnalytics,window.GoogleAnalytics=v})()})();